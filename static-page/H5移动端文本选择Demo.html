<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>H5ç§»åŠ¨ç«¯æ–‡æœ¬é€‰æ‹©Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        .container {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.8em;
            text-align: center;
            padding-bottom: 15px;
            border-bottom: 2px solid #3498db;
        }
        
        h2 {
            color: #3498db;
            margin: 25px 0 15px;
            font-size: 1.4em;
        }
        
        .demo-section {
            margin-bottom: 30px;
        }
        
        /* æ–‡æœ¬é€‰æ‹©åŒºåŸŸæ ·å¼ */
        .selectable-text {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            line-height: 1.8;
            font-size: 16px;
            -webkit-user-select: text;
            user-select: text;
            touch-action: pan-y;
        }
        
        .selectable-text p {
            margin-bottom: 15px;
        }
        
        /* è‡ªå®šä¹‰é€‰æ‹©èœå• */
        .selection-menu {
            position: fixed;
            background: #2c3e50;
            border-radius: 8px;
            padding: 8px;
            display: flex;
            gap: 5px;
            z-index: 1000;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            opacity: 0;
            transform: translateY(-10px);
            transition: opacity 0.2s, transform 0.2s;
        }
        
        .selection-menu.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        .menu-btn {
            background: #3498db;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 10px 15px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
            white-space: nowrap;
            min-width: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .menu-btn:hover {
            background: #2980b9;
            transform: translateY(-1px);
        }
        
        .menu-btn:active {
            transform: translateY(0);
        }
        
        .menu-btn.copy {
            background: #27ae60;
        }
        
        .menu-btn.share {
            background: #9b59b6;
        }
        
        .menu-btn.translate {
            background: #e74c3c;
        }
        
        .menu-btn.search {
            background: #f39c12;
        }
        
        /* é€‰æ‹©é«˜äº®æ•ˆæœ */
        ::selection {
            background-color: rgba(52, 152, 219, 0.3);
        }
        
        .custom-highlight {
            background-color: rgba(52, 152, 219, 0.3);
            border-radius: 2px;
        }
        
        /* çŠ¶æ€æŒ‡ç¤ºå™¨ */
        .status-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(44, 62, 80, 0.9);
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 999;
        }
        
        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #2ecc71;
        }
        
        .status-dot.inactive {
            background: #e74c3c;
        }
        
        /* æ“ä½œé¢æ¿ */
        .control-panel {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        
        .control-btn {
            padding: 10px 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.2s;
            flex: 1;
            min-width: 120px;
        }
        
        .control-btn:hover {
            background: #2980b9;
        }
        
        .control-btn.disabled {
            background: #95a5a6;
            cursor: not-allowed;
        }
        
        /* ç»“æœå±•ç¤ºåŒº */
        .result-panel {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            border-left: 4px solid #3498db;
        }
        
        .result-title {
            color: #2c3e50;
            font-weight: bold;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .result-content {
            background: white;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            word-break: break-word;
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid #e9ecef;
        }
        
        /* æç¤ºä¿¡æ¯ */
        .tips {
            background: #fff8e1;
            border: 1px solid #ffd54f;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
            font-size: 14px;
        }
        
        .tips h3 {
            color: #f57c00;
            margin-bottom: 8px;
        }
        
        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 15px;
            }
            
            .control-panel {
                flex-direction: column;
            }
            
            .control-btn {
                width: 100%;
            }
            
            .menu-btn {
                padding: 8px 12px;
                font-size: 12px;
                min-width: 50px;
            }
        }
        
        /* åŠ¨ç”»æ•ˆæœ */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 0.5s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“± H5ç§»åŠ¨ç«¯æ–‡æœ¬é€‰æ‹©Demo</h1>
        
        <div class="status-indicator">
            <div class="status-dot" id="statusDot"></div>
            <span id="statusText">å‡†å¤‡å°±ç»ª</span>
        </div>
        
        <div class="demo-section">
            <h2>ç¤ºä¾‹æ–‡æœ¬</h2>
            <div class="tips">
                <h3>ğŸ’¡ ä½¿ç”¨è¯´æ˜</h3>
                <p>åœ¨ä¸‹æ–¹æ–‡æœ¬ä¸Šé•¿æŒ‰å¹¶æ‹–åŠ¨æ‰‹æŒ‡é€‰æ‹©æ–‡æœ¬ï¼Œé€‰æ‹©åä¼šå‡ºç°è‡ªå®šä¹‰æ“ä½œèœå•ã€‚</p>
                <p>æ”¯æŒï¼šå¤åˆ¶ã€åˆ†äº«ã€ç¿»è¯‘ã€æœç´¢ç­‰åŠŸèƒ½ã€‚</p>
            </div>
            
            <div class="selectable-text" id="selectableText">
                <p>JavaScript æ˜¯ä¸€ç§é«˜çº§çš„ã€è§£é‡Šå‹çš„ç¼–ç¨‹è¯­è¨€ã€‚å®ƒæ˜¯äº’è”ç½‘çš„æ ¸å¿ƒæŠ€æœ¯ä¹‹ä¸€ï¼Œç»å¤§å¤šæ•°ç°ä»£ç½‘ç«™éƒ½ä½¿ç”¨ JavaScriptï¼Œæ‰€æœ‰ç°ä»£ Web æµè§ˆå™¨ï¼ˆæ— è®ºæ˜¯æ¡Œé¢ã€æ‰‹æœºè¿˜æ˜¯å…¶ä»–è®¾å¤‡ä¸Šçš„æµè§ˆå™¨ï¼‰éƒ½åŒ…å« JavaScript è§£é‡Šå™¨ï¼Œä½¿å…¶æˆä¸ºä¸–ç•Œä¸Šæœ€æµè¡Œçš„ç¼–ç¨‹è¯­è¨€ä¹‹ä¸€ã€‚</p>
                
                <p>éšç€ Node.js ç­‰å¹³å°çš„å‡ºç°ï¼ŒJavaScript ä¹Ÿå¯ä»¥ç”¨äºæœåŠ¡å™¨ç«¯ç¼–ç¨‹ã€‚å¦‚ä»Šï¼ŒJavaScript å·²ç»æ¼”å˜ä¸ºä¸€ç§å…¨æ ˆå¼€å‘è¯­è¨€ï¼Œèƒ½å¤Ÿå¤„ç†ä»å‰ç«¯ç”¨æˆ·ç•Œé¢åˆ°åç«¯æœåŠ¡å™¨é€»è¾‘çš„å„ä¸ªæ–¹é¢ã€‚</p>
                
                <p>ECMAScript æ˜¯ JavaScript çš„æ ‡å‡†åŒ–ç‰ˆæœ¬ï¼Œæ—¨åœ¨ç¡®ä¿ä¸åŒæµè§ˆå™¨ä¹‹é—´çš„å…¼å®¹æ€§ã€‚ES6ï¼ˆECMAScript 2015ï¼‰å¼•å…¥äº†è®¸å¤šç°ä»£åŠŸèƒ½ï¼Œå¦‚ç®­å¤´å‡½æ•°ã€ç±»ã€æ¨¡å—ã€æ¨¡æ¿å­—ç¬¦ä¸²ç­‰ï¼Œæå¤§åœ°æ”¹å–„äº†å¼€å‘ä½“éªŒã€‚</p>
            </div>
        </div>
        
        <div class="demo-section">
            <h2>æ“ä½œé¢æ¿</h2>
            <div class="control-panel">
                <button class="control-btn" id="enableSelect">å¯ç”¨æ–‡æœ¬é€‰æ‹©</button>
                <button class="control-btn" id="disableSelect">ç¦ç”¨æ–‡æœ¬é€‰æ‹©</button>
                <button class="control-btn" id="clearSelection">æ¸…é™¤é€‰æ‹©</button>
                <button class="control-btn" id="testSelection">æµ‹è¯•é€‰æ‹©åŠŸèƒ½</button>
            </div>
        </div>
        
        <div class="demo-section">
            <h2>é€‰æ‹©ç»“æœ</h2>
            <div class="result-panel">
                <div class="result-title">
                    <span>ğŸ“‹ å·²é€‰æ–‡æœ¬</span>
                </div>
                <div class="result-content" id="selectedText">æš‚æ— é€‰æ‹©</div>
                
                <div class="result-title" style="margin-top: 20px;">
                    <span>ğŸ“Š æ“ä½œè®°å½•</span>
                </div>
                <div class="result-content" id="operationLog">ç­‰å¾…æ“ä½œ...</div>
            </div>
        </div>
        
        <div class="tips">
            <h3>ğŸ”§ æŠ€æœ¯è¦ç‚¹</h3>
            <p>1. ä½¿ç”¨ <code>selectstart</code> å’Œ <code>selectionchange</code> äº‹ä»¶ç›‘å¬æ–‡æœ¬é€‰æ‹©</p>
            <p>2. è‡ªå®šä¹‰é€‰æ‹©èœå•æ›¿æ¢ç³»ç»Ÿé»˜è®¤èœå•</p>
            <p>3. æ­£ç¡®å¤„ç†ç§»åŠ¨ç«¯è§¦æ‘¸äº‹ä»¶å’Œé•¿æŒ‰æ‰‹åŠ¿</p>
            <p>4. å…¼å®¹ä¸åŒæµè§ˆå™¨å’Œè®¾å¤‡çš„æ–‡æœ¬é€‰æ‹©è¡Œä¸º</p>
        </div>
    </div>
    
    <!-- è‡ªå®šä¹‰é€‰æ‹©èœå• -->
    <div class="selection-menu" id="selectionMenu">
        <button class="menu-btn copy" data-action="copy">ğŸ“‹ å¤åˆ¶</button>
        <button class="menu-btn share" data-action="share">ğŸ“¤ åˆ†äº«</button>
        <button class="menu-btn translate" data-action="translate">ğŸŒ ç¿»è¯‘</button>
        <button class="menu-btn search" data-action="search">ğŸ” æœç´¢</button>
    </div>
    
    <script>
    class MobileTextSelector {
        constructor() {
            this.selectedText = '';
            this.selectionMenu = document.getElementById('selectionMenu');
            this.selectableText = document.getElementById('selectableText');
            this.statusDot = document.getElementById('statusDot');
            this.statusText = document.getElementById('statusText');
            this.selectedTextDisplay = document.getElementById('selectedText');
            this.operationLog = document.getElementById('operationLog');
            this.isEnabled = true;
            this.touchStartTime = 0;
            this.touchStartPosition = { x: 0, y: 0 };
            this.longPressTimer = null;
            this.isTouchDevice = 'ontouchstart' in window;
            
            this.init();
        }
        
        init() {
            this.setupEventListeners();
            this.updateStatus();
            this.addLog('æ–‡æœ¬é€‰æ‹©å™¨åˆå§‹åŒ–å®Œæˆ');
        }
        
        setupEventListeners() {
            // ç›‘å¬æ–‡æœ¬é€‰æ‹©äº‹ä»¶
            document.addEventListener('selectionchange', this.handleSelectionChange.bind(this));
            
            // ç›‘å¬é€‰æ‹©å¼€å§‹äº‹ä»¶
            document.addEventListener('selectstart', this.handleSelectStart.bind(this));
            
            // ç§»åŠ¨ç«¯è§¦æ‘¸äº‹ä»¶
            if (this.isTouchDevice) {
                this.setupTouchEvents();
            }
            
            // è‡ªå®šä¹‰èœå•æŒ‰é’®äº‹ä»¶
            this.selectionMenu.addEventListener('click', this.handleMenuClick.bind(this));
            
            // ç‚¹å‡»é¡µé¢å…¶ä»–åœ°æ–¹éšè—èœå•
            document.addEventListener('click', (e) => {
                if (!this.selectionMenu.contains(e.target) && e.target !== this.selectableText) {
                    this.hideMenu();
                }
            });
            
            // æ§åˆ¶æŒ‰é’®äº‹ä»¶
            document.getElementById('enableSelect').addEventListener('click', () => {
                this.enableSelection();
                this.addLog('æ–‡æœ¬é€‰æ‹©åŠŸèƒ½å·²å¯ç”¨');
            });
            
            document.getElementById('disableSelect').addEventListener('click', () => {
                this.disableSelection();
                this.addLog('æ–‡æœ¬é€‰æ‹©åŠŸèƒ½å·²ç¦ç”¨');
            });
            
            document.getElementById('clearSelection').addEventListener('click', () => {
                this.clearSelection();
                this.addLog('å·²æ¸…é™¤æ–‡æœ¬é€‰æ‹©');
            });
            
            document.getElementById('testSelection').addEventListener('click', () => {
                this.testSelection();
                this.addLog('æµ‹è¯•é€‰æ‹©åŠŸèƒ½');
            });
        }
        
        setupTouchEvents() {
            // è§¦æ‘¸å¼€å§‹
            this.selectableText.addEventListener('touchstart', (e) => {
                if (!this.isEnabled) {
                    e.preventDefault();
                    return;
                }
                
                this.touchStartTime = Date.now();
                this.touchStartPosition = {
                    x: e.touches[0].clientX,
                    y: e.touches[0].clientY
                };
                
                // è®¾ç½®é•¿æŒ‰å®šæ—¶å™¨
                this.longPressTimer = setTimeout(() => {
                    this.addLog('é•¿æŒ‰æ‰‹åŠ¿æ£€æµ‹åˆ°ï¼ˆå¯èƒ½å¼€å§‹é€‰æ‹©æ–‡æœ¬ï¼‰');
                }, 500);
                
            }, { passive: true });
            
            // è§¦æ‘¸ç§»åŠ¨
            this.selectableText.addEventListener('touchmove', (e) => {
                // æ¸…é™¤é•¿æŒ‰å®šæ—¶å™¨ï¼Œå› ä¸ºç”¨æˆ·å·²ç»å¼€å§‹ç§»åŠ¨
                if (this.longPressTimer) {
                    clearTimeout(this.longPressTimer);
                    this.longPressTimer = null;
                }
                
                // å¦‚æœæ˜¯æ–‡æœ¬é€‰æ‹©æ¨¡å¼ï¼Œä¸é˜»æ­¢é»˜è®¤è¡Œä¸º
                if (this.isEnabled) {
                    // å…è®¸æµè§ˆå™¨å¤„ç†æ–‡æœ¬é€‰æ‹©
                    return;
                }
                
                // å¦‚æœç¦ç”¨é€‰æ‹©ï¼Œå¯ä»¥é˜»æ­¢æ»šåŠ¨
                e.preventDefault();
                
            }, { passive: false });
            
            // è§¦æ‘¸ç»“æŸ
            this.selectableText.addEventListener('touchend', () => {
                if (this.longPressTimer) {
                    clearTimeout(this.longPressTimer);
                    this.longPressTimer = null;
                }
            }, { passive: true });
            
            // é˜»æ­¢é»˜è®¤çš„é•¿æŒ‰èœå•ï¼ˆåœ¨ç§»åŠ¨ç«¯ï¼‰
            this.selectableText.addEventListener('contextmenu', (e) => {
                if (this.isEnabled) {
                    e.preventDefault();
                    this.addLog('é˜»æ­¢äº†ç³»ç»Ÿé»˜è®¤çš„é•¿æŒ‰èœå•');
                }
            });
        }
        
        handleSelectStart(e) {
            if (!this.isEnabled) {
                e.preventDefault();
                this.addLog('æ–‡æœ¬é€‰æ‹©è¢«é˜»æ­¢ï¼ˆåŠŸèƒ½å·²ç¦ç”¨ï¼‰');
                return;
            }
            
            this.addLog('å¼€å§‹é€‰æ‹©æ–‡æœ¬');
            this.statusText.textContent = 'é€‰æ‹©æ–‡æœ¬ä¸­...';
            this.statusDot.classList.remove('inactive');
        }
        
        handleSelectionChange() {
            const selection = window.getSelection();
            const text = selection.toString().trim();
            
            if (text && this.isEnabled) {
                this.selectedText = text;
                this.selectedTextDisplay.textContent = text;
                this.selectedTextDisplay.classList.add('pulse');
                
                setTimeout(() => {
                    this.selectedTextDisplay.classList.remove('pulse');
                }, 500);
                
                // æ˜¾ç¤ºè‡ªå®šä¹‰èœå•
                this.showMenuAtSelection(selection);
                
                this.addLog(`é€‰æ‹©äº†æ–‡æœ¬: "${text.substring(0, 50)}${text.length > 50 ? '...' : ''}"`);
                this.statusText.textContent = `å·²é€‰æ‹© ${text.length} ä¸ªå­—ç¬¦`;
            } else {
                // å¦‚æœæ²¡æœ‰é€‰æ‹©æ–‡æœ¬ï¼Œéšè—èœå•
                this.hideMenu();
                this.statusText.textContent = this.isEnabled ? 'å‡†å¤‡å°±ç»ª' : 'åŠŸèƒ½å·²ç¦ç”¨';
            }
        }
        
        showMenuAtSelection(selection) {
            if (!selection.rangeCount) return;
            
            const range = selection.getRangeAt(0);
            const rect = range.getBoundingClientRect();
            
            if (rect.width === 0 && rect.height === 0) {
                // å¯èƒ½æ˜¯åœ¨è§¦æ‘¸è®¾å¤‡ä¸Šï¼Œä½¿ç”¨æœ€åä¸€ä¸ªæ’å…¥ç‚¹
                const fakeRange = document.createRange();
                fakeRange.setStart(range.startContainer, range.startOffset);
                const fakeRect = fakeRange.getBoundingClientRect();
                if (fakeRect.width === 0 && fakeRect.height === 0) return;
                
                this.positionMenu(fakeRect);
            } else {
                this.positionMenu(rect);
            }
            
            this.selectionMenu.classList.add('show');
        }
        
        positionMenu(rect) {
            const menu = this.selectionMenu;
            const menuWidth = menu.offsetWidth;
            const menuHeight = menu.offsetHeight;
            
            let left = rect.left + rect.width / 2 - menuWidth / 2;
            let top = rect.top - menuHeight - 10;
            
            // ç¡®ä¿èœå•ä¸è¶…å‡ºè§†å£
            if (top < 10) top = rect.bottom + 10;
            if (left < 10) left = 10;
            if (left + menuWidth > window.innerWidth - 10) {
                left = window.innerWidth - menuWidth - 10;
            }
            
            menu.style.left = `${left}px`;
            menu.style.top = `${top}px`;
        }
        
        hideMenu() {
            this.selectionMenu.classList.remove('show');
        }
        
        handleMenuClick(e) {
            const action = e.target.dataset.action;
            if (!action || !this.selectedText) return;
            
            switch (action) {
                case 'copy':
                    this.copyText();
                    break;
                case 'share':
                    this.shareText();
                    break;
                case 'translate':
                    this.translateText();
                    break;
                case 'search':
                    this.searchText();
                    break;
            }
            
            this.hideMenu();
            window.getSelection().removeAllRanges();
        }
        
        copyText() {
            navigator.clipboard.writeText(this.selectedText)
                .then(() => {
                    this.addLog('âœ… æ–‡æœ¬å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
                    this.showToast('âœ… å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
                })
                .catch(err => {
                    this.addLog('âŒ å¤åˆ¶å¤±è´¥: ' + err.message);
                    this.showToast('âŒ å¤åˆ¶å¤±è´¥');
                });
        }
        
        shareText() {
            if (navigator.share) {
                navigator.share({
                    title: 'åˆ†äº«æ–‡æœ¬',
                    text: this.selectedText,
                    url: window.location.href
                })
                .then(() => this.addLog('âœ… åˆ†äº«æˆåŠŸ'))
                .catch(err => this.addLog('âŒ åˆ†äº«å–æ¶ˆ: ' + err.message));
            } else {
                this.addLog('âš ï¸ å½“å‰æµè§ˆå™¨ä¸æ”¯æŒWeb Share API');
                this.showToast('âš ï¸ æµè§ˆå™¨ä¸æ”¯æŒç›´æ¥åˆ†äº«');
            }
        }
        
        translateText() {
            const encodedText = encodeURIComponent(this.selectedText);
            const url = `https://translate.google.com/?text=${encodedText}`;
            window.open(url, '_blank');
            this.addLog('ğŸŒ è·³è½¬åˆ°ç¿»è¯‘é¡µé¢');
        }
        
        searchText() {
            const encodedText = encodeURIComponent(this.selectedText);
            const url = `https://www.google.com/search?q=${encodedText}`;
            window.open(url, '_blank');
            this.addLog('ğŸ” è·³è½¬åˆ°æœç´¢é¡µé¢');
        }
        
        enableSelection() {
            this.isEnabled = true;
            this.selectableText.style.userSelect = 'text';
            this.selectableText.style.webkitUserSelect = 'text';
            this.updateStatus();
        }
        
        disableSelection() {
            this.isEnabled = false;
            this.selectableText.style.userSelect = 'none';
            this.selectableText.style.webkitUserSelect = 'none';
            this.clearSelection();
            this.updateStatus();
        }
        
        clearSelection() {
            window.getSelection().removeAllRanges();
            this.selectedText = '';
            this.selectedTextDisplay.textContent = 'æš‚æ— é€‰æ‹©';
            this.hideMenu();
        }
        
        testSelection() {
            // åˆ›å»ºä¸€ä¸ªæµ‹è¯•èŒƒå›´å¹¶é€‰æ‹©
            const range = document.createRange();
            const textNode = this.selectableText.firstChild;
            
            if (textNode && textNode.nodeType === Node.TEXT_NODE) {
                range.setStart(textNode, 10);
                range.setEnd(textNode, 30);
                
                const selection = window.getSelection();
                selection.removeAllRanges();
                selection.addRange(range);
                
                this.addLog('ğŸ”„ æµ‹è¯•é€‰æ‹©å·²åˆ›å»º');
            }
        }
        
        updateStatus() {
            if (this.isEnabled) {
                this.statusDot.classList.remove('inactive');
                this.statusText.textContent = 'åŠŸèƒ½å·²å¯ç”¨';
            } else {
                this.statusDot.classList.add('inactive');
                this.statusText.textContent = 'åŠŸèƒ½å·²ç¦ç”¨';
            }
        }
        
        addLog(message) {
            const time = new Date().toLocaleTimeString();
            const logEntry = `[${time}] ${message}\n`;
            
            this.operationLog.textContent = logEntry + this.operationLog.textContent;
            
            // é™åˆ¶æ—¥å¿—æ¡æ•°
            const lines = this.operationLog.textContent.split('\n');
            if (lines.length > 20) {
                this.operationLog.textContent = lines.slice(0, 20).join('\n');
            }
        }
        
        showToast(message) {
            // åˆ›å»ºä¸´æ—¶æç¤º
            const toast = document.createElement('div');
            toast.textContent = message;
            toast.style.cssText = `
                position: fixed;
                bottom: 50px;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(0, 0, 0, 0.8);
                color: white;
                padding: 12px 24px;
                border-radius: 25px;
                z-index: 1001;
                font-size: 14px;
                animation: fadeInOut 2s ease;
            `;
            
            // æ·»åŠ åŠ¨ç”»æ ·å¼
            const style = document.createElement('style');
            style.textContent = `
                @keyframes fadeInOut {
                    0% { opacity: 0; transform: translateX(-50%) translateY(20px); }
                    20% { opacity: 1; transform: translateX(-50%) translateY(0); }
                    80% { opacity: 1; transform: translateX(-50%) translateY(0); }
                    100% { opacity: 0; transform: translateX(-50%) translateY(-20px); }
                }
            `;
            document.head.appendChild(style);
            
            document.body.appendChild(toast);
            
            setTimeout(() => {
                document.body.removeChild(toast);
                document.head.removeChild(style);
            }, 2000);
        }
    }
    
    // åˆå§‹åŒ–åº”ç”¨
    document.addEventListener('DOMContentLoaded', () => {
        new MobileTextSelector();
        
        // æ·»åŠ ä¸€äº›æç¤º
        console.log('ğŸ“± H5æ–‡æœ¬é€‰æ‹©Demoå·²åŠ è½½');
        console.log('â„¹ï¸ æ”¯æŒåŠŸèƒ½ï¼š');
        console.log('  1. ç§»åŠ¨ç«¯è§¦æ‘¸æ–‡æœ¬é€‰æ‹©');
        console.log('  2. è‡ªå®šä¹‰é€‰æ‹©èœå•');
        console.log('  3. å¤åˆ¶ã€åˆ†äº«ã€ç¿»è¯‘ã€æœç´¢');
        console.log('  4. å¯ç”¨/ç¦ç”¨é€‰æ‹©åŠŸèƒ½');
    });
    </script>
</body>
</html>
